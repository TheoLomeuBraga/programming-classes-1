[gd_scene format=3 uid="uid://tqksyflb33s7"]

[ext_resource type="PackedScene" uid="uid://bsx8jiiiluaoj" path="res://main_charter/main_charter.glb" id="1_12cjd"]
[ext_resource type="AnimationLibrary" uid="uid://cvya0qndreyt4" path="res://main_charter/template_psx_charter.glb" id="2_e4pt4"]
[ext_resource type="Script" uid="uid://cq4dl48ty6juf" path="res://main_charter/main_charter_model.gd" id="2_spmdf"]
[ext_resource type="Texture2D" uid="uid://b0c031euyg47x" path="res://main_charter/main_charter_charter.png" id="3_a8kth"]
[ext_resource type="Shader" uid="uid://c20m0ielcat1s" path="res://main_charter/color_pallet.gdshader" id="3_syhi2"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_a8kth"]
render_priority = 0
shader = ExtResource("3_syhi2")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/texture_albedo = ExtResource("3_a8kth")
shader_parameter/pallet_swap_precision = 0.0999999977648
shader_parameter/color_1 = Color(0, 0, 0, 1)
shader_parameter/color_2 = Color(0.45490196, 0.22352941, 1, 1)
shader_parameter/color_3 = Color(0, 0, 0, 1)
shader_parameter/color_4 = Color(0.362037, 0.5161987, 0.75672084, 1)
shader_parameter/color_5 = Color(0.11967879, 0.62478256, 0.04188077, 1)
shader_parameter/color_6 = Color(0, 0, 0.81960785, 1)

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_a8kth"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_syhi2"]
animation = &"template_psx_charter/strong_shot_arms_only"
use_custom_timeline = true
timeline_length = 0.5
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a8kth"]
animation = &"template_psx_charter/jump_arms_only"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pabw2"]
animation = &"template_psx_charter/damage"
use_custom_timeline = true
timeline_length = 0.6
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4js4s"]
animation = &"template_psx_charter/jump_legs_only"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_a8kth"]
xfade_time = 0.1
input_0/name = "floor"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "air"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8dnml"]
animation = &"template_psx_charter/idle_arms_only"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_roc0x"]
animation = &"template_psx_charter/run_arms_only"
use_custom_timeline = true
timeline_length = 0.8
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_pabw2"]
blend_point_0/node = SubResource("AnimationNodeAnimation_8dnml")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_roc0x")
blend_point_1/pos = 1.0
min_space = 0.0

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_0j6v3"]
xfade_time = 0.1
input_0/name = "floor"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "air"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pih6y"]
animation = &"template_psx_charter/idle_legs_only"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_agity"]
animation = &"template_psx_charter/run_legs_only"
use_custom_timeline = true
timeline_length = 0.8
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_uewt4"]
blend_point_0/node = SubResource("AnimationNodeAnimation_pih6y")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_agity")
blend_point_1/pos = 1.0
min_space = 0.0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_0j6v3"]
fadein_time = 0.1

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_vmmlx"]
fadein_time = 0.15

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_spmdf"]
nodes/output/position = Vector2(640, 140)
nodes/leg_speed/node = SubResource("AnimationNodeBlendSpace1D_uewt4")
nodes/leg_speed/position = Vector2(-640, 300)
nodes/leg_mode/node = SubResource("AnimationNodeTransition_0j6v3")
nodes/leg_mode/position = Vector2(-300, 320)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4js4s")
nodes/Animation/position = Vector2(-780, 520)
nodes/Add2/node = SubResource("AnimationNodeAdd2_a8kth")
nodes/Add2/position = Vector2(42.620678, 79.219894)
nodes/arm_speed/node = SubResource("AnimationNodeBlendSpace1D_pabw2")
nodes/arm_speed/position = Vector2(-1140, -260)
nodes/shot/node = SubResource("AnimationNodeOneShot_vmmlx")
nodes/shot/position = Vector2(-380, -80)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_syhi2")
"nodes/Animation 2/position" = Vector2(-880, 100)
nodes/arm_mode/node = SubResource("AnimationNodeTransition_a8kth")
nodes/arm_mode/position = Vector2(-760, -220)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_a8kth")
"nodes/Animation 3/position" = Vector2(-1320, -40)
nodes/recive_hit/node = SubResource("AnimationNodeOneShot_0j6v3")
nodes/recive_hit/position = Vector2(380, 180)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_pabw2")
"nodes/Animation 4/position" = Vector2(-40, 460)
node_connections = [&"output", 0, &"recive_hit", &"leg_mode", 0, &"leg_speed", &"leg_mode", 1, &"Animation", &"Add2", 0, &"shot", &"Add2", 1, &"leg_mode", &"shot", 0, &"arm_mode", &"shot", 1, &"Animation 2", &"arm_mode", 0, &"arm_speed", &"arm_mode", 1, &"Animation 3", &"recive_hit", 0, &"Add2", &"recive_hit", 1, &"Animation 4"]

[node name="main_charter" unique_id=526971450 instance=ExtResource("1_12cjd")]
script = ExtResource("2_spmdf")
light_armor = Color(0.45490196, 0.22352941, 1, 1)
hands = Color(0.362037, 0.5161987, 0.75672084, 1)
armor = Color(0.11967879, 0.62478256, 0.04188077, 1)
skin = Color(0, 0, 0.81960785, 1)

[node name="GeneralSkeleton" parent="metarig" parent_id_path=PackedInt32Array(995499517) index="0" unique_id=795613474]
bones/0/position = Vector3(0, 1.0097363, -0.055199977)
bones/0/rotation = Quaternion(0.0014216043, 0, 0, 0.999999)
bones/4/rotation = Quaternion(-3.3527613e-08, 0, 0, 1)
bones/5/rotation = Quaternion(-2.9802322e-08, 0, 0, 1)
bones/6/rotation = Quaternion(-2.9802322e-08, 0, 0, 1)
bones/8/rotation = Quaternion(0.0070483983, 0.7630219, -0.64603657, 0.019614665)
bones/9/rotation = Quaternion(0.11264019, -0.7031471, 0.07219092, 0.6983444)
bones/10/rotation = Quaternion(-6.9849198e-09, 0.70710677, -6.9849198e-09, 0.70710677)
bones/12/rotation = Quaternion(-0.014736918, 0.75727415, -0.65264714, -0.019246943)
bones/13/rotation = Quaternion(0.0564215, 0.706719, -0.0361605, 0.7043135)
bones/14/rotation = Quaternion(-6.9849198e-09, -0.70710677, 6.9849198e-09, 0.70710677)
bones/17/rotation = Quaternion(4.836354e-08, 0.00088451075, 0.99999964, -5.639484e-09)
bones/18/rotation = Quaternion(-3.0050675e-16, 0.99999934, -0.0011533218, -6.8731393e-16)
bones/19/rotation = Quaternion(1.5477922e-15, 0.70710677, -0.70710677, 6.99006e-16)
bones/22/rotation = Quaternion(3.934197e-08, 0.00088451075, 0.99999964, 5.248607e-09)
bones/23/rotation = Quaternion(4.406166e-16, 0.99999934, -0.0011533218, 1.0372959e-15)
bones/24/rotation = Quaternion(-4.0775158e-16, 0.70710677, -0.70710677, -2.0803727e-16)

[node name="spine_005" parent="metarig/GeneralSkeleton" index="0" unique_id=653184627]
transform = Transform3D(1, 0, 0, 0, 0.99999595, -0.0028430792, 0, 0.0028430792, 0.99999595, 0, 1.7193394, 0.015017738)

[node name="Cube_011" parent="metarig/GeneralSkeleton/spine_005" index="1" unique_id=811048575]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="Cube_012" parent="metarig/GeneralSkeleton/spine_005" index="2" unique_id=297382612]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="spine_004" parent="metarig/GeneralSkeleton" index="1" unique_id=57894702]
transform = Transform3D(1, 0, 0, 0, 0.99999595, -0.0028431388, 0, 0.0028431388, 0.99999595, 0, 1.657909, -0.00955695)

[node name="Cube_010" parent="metarig/GeneralSkeleton/spine_004" index="0" unique_id=2074817245]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="hand_L" parent="metarig/GeneralSkeleton" index="2" unique_id=1449703281]
transform = Transform3D(0.014655178, 0.108013526, -0.99404144, -0.29244348, -0.95021427, -0.10756276, -0.95617056, 0.29227728, 0.01766232, 0.25924852, 1.068751, 0.03610933)

[node name="Cube_005" parent="metarig/GeneralSkeleton/hand_L" index="0" unique_id=1194576324]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="forearm_L" parent="metarig/GeneralSkeleton" index="3" unique_id=542325756]
transform = Transform3D(-0.99404144, 0.108013526, -0.01465518, -0.10756276, -0.95021427, 0.2924435, 0.01766232, 0.2922773, 0.95617056, 0.2470531, 1.3054199, -0.077563986)

[node name="Cube_003" parent="metarig/GeneralSkeleton/forearm_L" index="0" unique_id=1199849263]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="upper_arm_L" parent="metarig/GeneralSkeleton" index="4" unique_id=1157761078]
transform = Transform3D(-0.014587418, 0.16517413, -0.9861566, -0.036198992, -0.9857022, -0.1645626, -0.99923813, 0.033297326, 0.020357989, 0.1953, 1.5843527, -0.025066137)

[node name="Cube_004" parent="metarig/GeneralSkeleton/upper_arm_L" index="0" unique_id=794712480]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="hand_R" parent="metarig/GeneralSkeleton" index="5" unique_id=634215496]
transform = Transform3D(0.011292531, -0.118654, 0.9928714, 0.1749566, -0.97738343, -0.11879282, 0.9845111, 0.1750509, 0.00972225, -0.25797322, 1.0555732, 0.009968191)

[node name="Cube_018" parent="metarig/GeneralSkeleton/hand_R" index="0" unique_id=1536442476]
visible = false
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="forearm_R" parent="metarig/GeneralSkeleton" index="6" unique_id=517913304]
transform = Transform3D(-0.9928714, -0.118654, 0.011292534, 0.11879282, -0.97738343, 0.17495662, -0.00972225, 0.17505091, 0.9845111, -0.24286726, 1.3040801, -0.07428533)

[node name="Cube_016" parent="metarig/GeneralSkeleton/forearm_R" index="0" unique_id=424879942]
visible = false
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="Cube_019" parent="metarig/GeneralSkeleton/forearm_R" index="1" unique_id=307540944]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="upper_arm_R" parent="metarig/GeneralSkeleton" index="7" unique_id=501647768]
transform = Transform3D(-0.0028031524, -0.14766914, 0.9890328, 0.04554637, -0.9880292, -0.14739007, 0.9989581, 0.044633698, 0.009495386, -0.1953, 1.5843527, -0.025066137)

[node name="Cube_017" parent="metarig/GeneralSkeleton/upper_arm_R" index="0" unique_id=627067036]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="spine_003" parent="metarig/GeneralSkeleton" index="8" unique_id=538868499]
transform = Transform3D(1, 0, 0, 0, 0.99999595, -0.0028432058, 0, 0.0028432058, 0.99999595, 0, 1.4653943, -0.00460428)

[node name="Cube_009" parent="metarig/GeneralSkeleton/spine_003" index="0" unique_id=1337446010]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="spine_001" parent="metarig/GeneralSkeleton" index="9" unique_id=869173352]
transform = Transform3D(1, 0, 0, 0, 0.99999595, -0.0028432058, 0, 0.0028432058, 0.99999595, 0, 1.1570277, -0.016781054)

[node name="Cube_008" parent="metarig/GeneralSkeleton/spine_001" index="0" unique_id=250369880]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="foot_L" parent="metarig/GeneralSkeleton" index="10" unique_id=1518935600]
transform = Transform3D(-0.9999999, 9.6743015e-08, -1.1141399e-08, -1.1468406e-08, -0.0033808257, 0.9999941, 9.6704795e-08, 0.9999943, 0.0033808257, 0.098, 0.08502498, -0.018125411)

[node name="Cube_001" parent="metarig/GeneralSkeleton/foot_L" index="0" unique_id=1214585063]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="shin_L" parent="metarig/GeneralSkeleton" index="11" unique_id=1937447651]
transform = Transform3D(0.9999999, 1.1141398e-08, -9.6743015e-08, 1.1468405e-08, -0.9999941, 0.0033808257, -9.6704795e-08, -0.0033808257, -0.9999943, 0.098000005, 0.53687066, 0.02820222)

[node name="Cube" parent="metarig/GeneralSkeleton/shin_L" index="0" unique_id=1942607052]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="thigh_L" parent="metarig/GeneralSkeleton" index="12" unique_id=2078786037]
transform = Transform3D(-0.9999999, 1.1364519e-08, 9.671706e-08, -1.1468404e-08, -0.9999993, -0.0010741879, 9.6704795e-08, -0.0010741877, 0.9999994, 0.098, 1.0717144, -0.012223579)

[node name="Cube_002" parent="metarig/GeneralSkeleton/thigh_L" index="0" unique_id=1459358605]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="foot_R" parent="metarig/GeneralSkeleton" index="13" unique_id=1062012452]
transform = Transform3D(-0.9999999, 7.866893e-08, 1.0609102e-08, 1.0343076e-08, -0.0033808257, 0.9999941, 7.870434e-08, 0.9999943, 0.0033808257, -0.098, 0.08502498, -0.018125411)

[node name="Cube_014" parent="metarig/GeneralSkeleton/foot_R" index="0" unique_id=1995352739]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="shin_R" parent="metarig/GeneralSkeleton" index="14" unique_id=1992528960]
transform = Transform3D(0.9999999, -1.0609102e-08, -7.866893e-08, -1.0343076e-08, -0.9999941, 0.0033808257, -7.870434e-08, -0.0033808257, -0.9999943, -0.098, 0.53687066, 0.02820222)

[node name="Cube_013" parent="metarig/GeneralSkeleton/shin_R" index="0" unique_id=465567546]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="thigh_R" parent="metarig/GeneralSkeleton" index="15" unique_id=760042042]
transform = Transform3D(-0.9999999, -1.0427612e-08, 7.869319e-08, 1.0343075e-08, -0.9999993, -0.0010741879, 7.870434e-08, -0.0010741877, 0.9999994, -0.098, 1.0717144, -0.012223579)

[node name="Cube_015" parent="metarig/GeneralSkeleton/thigh_R" index="0" unique_id=2044705490]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="spine" parent="metarig/GeneralSkeleton" index="16" unique_id=1444927609]
transform = Transform3D(1, 0, 0, 0, 0.99999595, -0.0028432058, 0, 0.0028432058, 0.99999595, 0, 1.0097363, -0.055199977)

[node name="Cube_007" parent="metarig/GeneralSkeleton/spine" index="0" unique_id=1693991145]
surface_material_override/0 = SubResource("ShaderMaterial_a8kth")

[node name="AnimationPlayer" type="AnimationPlayer" parent="metarig" parent_id_path=PackedInt32Array(995499517) index="1" unique_id=2124494970]
libraries/template_psx_charter = ExtResource("2_e4pt4")

[node name="AnimationTree" type="AnimationTree" parent="metarig" parent_id_path=PackedInt32Array(995499517) index="2" unique_id=1723731500]
tree_root = SubResource("AnimationNodeBlendTree_spmdf")
anim_player = NodePath("../AnimationPlayer")
parameters/leg_speed/blend_position = 0.0
parameters/leg_mode/current_state = "floor"
parameters/leg_mode/transition_request = ""
parameters/leg_mode/current_index = 0
parameters/Add2/add_amount = 1.0
parameters/arm_speed/blend_position = 0.0
parameters/shot/active = false
parameters/shot/internal_active = false
parameters/shot/request = 0
parameters/arm_mode/current_state = "floor"
parameters/arm_mode/transition_request = ""
parameters/arm_mode/current_index = 0
parameters/recive_hit/active = false
parameters/recive_hit/internal_active = false
parameters/recive_hit/request = 0
